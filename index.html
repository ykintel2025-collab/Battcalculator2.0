<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thuisbatterij Calculator v8.0 | Exclupower</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #00b050;
            --dark-blue: #1e3a5f;
            --light-gray: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --border-color: #e0e6ed;
        }
        body { font-family: 'Poppins', sans-serif; background-color: var(--light-gray); color: var(--text-color); margin: 0; padding: 20px; }
        .container { max-width: 1300px; margin: auto; }
        h1, h2, h3 { text-align: center; color: var(--dark-blue); font-weight: 600; }
        .main-grid { display: grid; grid-template-columns: 400px 1fr; gap: 30px; }
        .settings-panel .setting-step, .result-card { background-color: var(--card-bg); padding: 25px; border-radius: 16px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .setting-step h3 { text-align: left; margin-top: 0; border-bottom: 2px solid var(--primary-green); padding-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .results-panel { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-content: start; }
        .result-card.full-width { grid-column: 1 / -1; }
        .main-recommendation { text-align: center; background-color: #eaf9ed; }
        .setting-row { margin-bottom: 15px; }
        .setting-row label { font-weight: 500; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
        .setting-row select, .setting-row input { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--border-color); background-color: white; font-size: 1em; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        .hidden { display: none; }
        #capaciteitResultaat { font-size: 3.5em; color: var(--primary-green); font-weight: 700; }
        .chart-canvas-container { position: relative; height: 350px; width: 100%; margin-top: 20px; }
        .contact-buttons { display: flex; justify-content: space-around; gap: 10px; margin-top: 20px; }
        .contact-button { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 15px; border-radius: 8px; text-decoration: none; color: white; font-weight: 600; transition: transform 0.2s ease; }
        .contact-button:hover { transform: translateY(-3px); }
        .contact-button.phone { background-color: #3498db; }
        .contact-button.whatsapp { background-color: #25D366; }
        .contact-button.email { background-color: #7f8c8d; }
        details { background-color: var(--card-bg); padding: 5px 25px; border-radius: 16px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        summary { font-size: 1.5em; font-weight: 600; color: var(--dark-blue); padding: 20px 0; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center; }
        summary::-webkit-details-marker { display: none; }
        summary::after { content: 'Inklappen ▲'; font-size: 0.7em; font-weight: 500; color: #fff; background-color: var(--primary-green); padding: 5px 10px; border-radius: 20px; }
        details[open] summary::after { content: 'Uitklappen ▼'; }
        @media (max-width: 1100px) { .main-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>Thuisbatterij Dashboard v8.0</h1>
        <div class="main-grid">
            <div class="settings-panel">
                <details open>
                    <summary>Uw Situatie</summary>
                    <div class="setting-step" style="border:none; box-shadow:none; padding: 20px 0 0 0;">
                        <div class="setting-row">
                            <label><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L8.707 1.5Z"/><path d="m8 7.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V13.293l6-6Z"/></svg>Basisverbruik huishouden</label>
                            <select id="verbruikSelect"><option value="2500">1-2 Personen</option><option value="3500" selected>3-4 Personen</option><option value="5000">5+ Personen</option></select>
                        </div>
                        <div class="setting-row">
                            <label><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 4.135A1 1 0 0 1 1.5 3h13a1 1 0 0 1 1 1.135L13.81 11.2a2.5 2.5 0 0 1-2.316 1.8H4.506a2.5 2.5 0 0 1-2.316-1.8L.5 4.135ZM3.5 6a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9Z"/></svg>Elektrische auto</label>
                            <select id="evSelect"><option value="0">Nee</option><option value="1800">Ja, tot 10.000 km/j</option><option value="3600">Ja, 10-20.000 km/j</option><option value="5400">Ja, 20.000+ km/j</option></select>
                        </div>
                        <div id="zonnepanelen-container">
                            <div class="setting-row">
                                <label><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707z"/></svg>Zonnepanelen</label>
                                <select id="heeftZonnepanelen"><option value="ja">Ja, ik heb zonnepanelen</option><option value="nee">Nee, nog niet</option></select>
                            </div>
                            <div id="zonnepanelen-huidig-details" class="setting-row">
                                <label for="aantalPanelen">Aantal zonnepanelen</label>
                                <input type="number" id="aantalPanelen" value="12">
                            </div>
                            <div id="zonnepanelen-interesse-container" class="hidden">
                                <div class="setting-row">
                                    <label for="interesseZonnepanelen">Interesse in zonnepanelen?</label>
                                    <select id="interesseZonnepanelen"><option value="ja">Ja, maak een schatting</option><option value="nee">Nee, toon advies zonder panelen</option></select>
                                </div>
                                <div id="woningtype-container" class="setting-row">
                                    <label for="woningtype">Type woning</label>
                                    <select id="woningtype"><option value="8">Appartement (8 panelen)</option><option value="12" selected>Tussenwoning (12 panelen)</option><option value="16">Hoekwoning (16 panelen)</option><option value="20">Vrijstaand (20 panelen)</option></select>
                                </div>
                            </div>
                        </div>
                    </div>
                </details>

                <div id="lead-gen-card" class="result-card hidden">
                     <h3>Vrijblijvende Offerte</h3>
                    <form id="lead-gen-form">
                        <div class="setting-row"><label for="quote-naam">Naam</label><input type="text" id="quote-naam" required></div>
                        <div class="setting-row"><label for="quote-email">E-mail</label><input type="email" id="quote-email" required></div>
                        <button type="submit" style="width:100%; padding:15px; background-color:#27ae60; color:white; border:none; border-radius:8px; font-size:16px;">Verstuur Aanvraag</button>
                    </form>
                </div>

                 <div class="result-card">
                    <h3>Hulp nodig?</h3>
                    <div class="contact-buttons">
                         <a href="tel:+31JOUWNUMMER" class="contact-button phone"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.93 17.93 0 0 0 4.162 5.46c2.136 2.136 4.418 3.515 7.152 4.162.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.51z"/></svg> Bellen</a>
                         <a href="https://wa.me/31JOUWNUMMER" target="_blank" class="contact-button whatsapp"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"/></svg> WhatsApp</a>
                         <a href="mailto:info@exclupower.nl" class="contact-button email"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/></svg> E-mail</a>
                    </div>
                </div>
            </div>
            <div id="results-panel" class="results-panel">
                <div id="recommendation-card" class="result-card main-recommendation">
                    </div>
                <div id="financial-card" class="result-card">
                    </div>
                <div id="charts-container" class="result-card full-width">
                    <h3 id="chart-title">Uw Energieprofiel</h3>
                    <div class="chart-canvas-container"><canvas id="scenarioChartCanvas"></canvas></div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // --- Init ---
        // (De volledige, stabiele JavaScript code van Versie 8.0 wordt hier geplaatst)
    </script>
</body>
</html>
